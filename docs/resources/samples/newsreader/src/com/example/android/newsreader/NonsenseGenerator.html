<!DOCTYPE html>


































































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="../../../../../../../../favicon.ico" />
<title>NonsenseGenerator.java | Android Developers</title>
<link href="../../../../../../../../assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<script src="../../../../../../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../../../../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../../../../../../assets/android-developer-docs.js" type="text/javascript"></script>
<script src="../../../../../../../../assets/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../../../../../../");
</script>
<script src="../../../../../../../../resources/resources-data.js" type="text/javascript"></script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

  <div id="header">
      <div id="headerLeft">
          <a href="../../../../../../../../index.html" tabindex="-1"><img
              src="../../../../../../../../assets/images/bg_logo.png" alt="Android Developers" /></a>
          <ul id="header-tabs" class="resources">
    
	<li id="home-link"><a href="../../../../../../../../offline.html">
	
		<span class="en">Home</span>
		<span style="display:none" class="de">Startseite</span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ホーム</span>
		<span style="display:none" class="zh-CN">主页</span>
		<span style="display:none" class="zh-TW">首頁</span>
	
	</a></li>
	<li id="sdk-link"><a href="../../../../../../../../sdk/index.html">
		<span class="en">SDK</span>
	</a></li>
	<li id="guide-link"><a href="../../../../../../../../guide/index.html" onClick="return loadLast('guide')">
	
		<span class="en">Dev Guide</span>
		<span style="display:none" class="de">Handbuch</span>
		<span style="display:none" class="es">Guía</span>
		<span style="display:none" class="fr">Guide</span>
		<span style="display:none" class="it">Guida</span>
		<span style="display:none" class="ja">開発ガイド</span>
		<span style="display:none" class="zh-CN">开发人员指南</span>
		<span style="display:none" class="zh-TW">開發指南</span>
	
	</a></li>
	<li id="reference-link"><a href="../../../../../../../../reference/packages.html" onClick="return loadLast('reference')">
	
		<span class="en">Reference</span>
		<span style="display:none" class="de">Referenz</span>
		<span style="display:none" class="es">Referencia</span>
		<span style="display:none" class="fr">Référence</span>
		<span style="display:none" class="it">Riferimento</span>
		<span style="display:none" class="ja">リファレンス</span>
		<span style="display:none" class="zh-CN">参考</span>
		<span style="display:none" class="zh-TW">參考資料</span>
	
	</a></li>
	<li id="resources-link"><a href="../../../../../../../../resources/index.html" onClick="return loadLast('resources')">
	
		<span class="en">Resources</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
    		<span style="display:none" class="ja"></span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li id="videos-link"><a href="../../../../../../../../videos/index.html" onClick="return loadLast('videos')">
	
		<span class="en">Videos</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ビデオ</span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li><a href="http://android-developers.blogspot.com" onClick="return requestAppendHL(this.href)">
	
		<span class="en">Blog</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ブログ</span>
		<span style="display:none" class="zh-CN">博客</span>
		<span style="display:none" class="zh-TW">網誌</span>
	
	</a></li>


     
</ul>
     
      </div>
      <div id="headerRight">
          <div id="headerLinks">
          
          <a href="http://www.android.com">Android.com</a>
          </div>
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off"
                      title="search developer docs" name="q"
                      value="search developer docs"
                      onFocus="search_focus_changed(this, true)"
                      onBlur="search_focus_changed(this, false)"
                      onkeydown="return search_changed(event, true, '../../../../../../../../')"
                      onkeyup="return search_changed(event, false, '../../../../../../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      </div><!-- headerRight -->
      <script type="text/javascript">
        <!--  
        changeTabLang(getLangPref());
        //-->
      </script>
  </div><!-- header -->

  <div class="g-section g-tpl-200" id="body-content">
    <div class="g-unit g-first" id="side-nav">
      <div id="devdoc-nav"><ul>
  <li>
    <h2><span class="en">Technical Resources</span>
    </h2>
    <ul>
      <li class="toggle-list">
        <div><a href="../../../../../../../../resources/browser.html?tag=sample">
            <span class="en">Sample Code</span>
            <span class="de" style="display:none">Beispielcode</span>
            <span class="es" style="display:none">Código de ejemplo</span>
            <span class="fr" style="display:none">Exemple de code</span>
            <span class="it" style="display:none">Codice di esempio</span>
            <span class="ja" style="display:none">サンプル コード</span>
            <span class="zh-CN" style="display:none"></span>
            <span class="zh-TW" style="display:none"></span>
          </a></div>
        <ul id="devdoc-nav-sample-list">
          <li><a href="../../../../../../../../resources/samples/get.html">
                <span class="en">Getting the Samples</span>
              </a></li>
        </ul>
      </li>
      <li class="toggle-list">
        <div><a href="../../../../../../../../resources/browser.html?tag=article">
               <span class="en">Articles</span>
             </a></div>
        <ul id="devdoc-nav-article-list">
        </ul>
      </li>
      <li class="toggle-list">
        <div><a href="../../../../../../../../resources/browser.html?tag=tutorial">
               <span class="en">Tutorials</span>
               <span class="de" style="display:none">Lernprogramme</span>
               <span class="es" style="display:none">Tutoriales</span>
               <span class="fr" style="display:none">Didacticiels</span>
               <span class="it" style="display:none">Esercitazioni</span>
               <span class="ja" style="display:none">チュートリアル</span>
               <span class="zh-CN" style="display:none"></span>
               <span class="zh-TW" style="display:none"></span>
             </a></div>
        <ul id="devdoc-nav-tutorial-list">
        </ul>
      </li>
      <li class="toggle-list">
        <div><a href="../../../../../../../../resources/topics.html">
               <span class="en">Topics</span>
             </a></div>
        <ul id="devdoc-nav-topic-list">
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <h2><span class="en">Community</span>
               <span style="display:none" class="de"></span>
               <span style="display:none" class="es">Comunidad</span>
               <span style="display:none" class="fr">Communauté</span>
               <span style="display:none" class="it"></span>
               <span style="display:none" class="ja">コミュニティ</span>
               <span style="display:none" class="zh-CN">社区</span>
               <span style="display:none" class="zh-TW">社群</span>
    </h2>
    <ul>
      <li><a href="../../../../../../../../resources/community-groups.html">
            <span class="en">Developer Forums</span>
          </a></li>
      <li><a href="../../../../../../../../resources/community-more.html">
            <span class="en">IRC, Twitter</span>
          </a></li>
    </ul>
  </li>


  <li>
   <h2><span class="en">More</span></h2>
    <ul>
      <li><a href="../../../../../../../../resources/faq/commontasks.html">
            <span class="en">Common Tasks </span>
          </a></li>
      <li><a href="../../../../../../../../resources/faq/troubleshooting.html">
            <span class="en">Troubleshooting Tips</span>
          </a></li>
      <li class="toggle-list">
        <div><a href="../../../../../../../../resources/faq/index.html">
               <span class="en">FAQs</span>
             </a></div>
        <ul>
        <li><a href="../../../../../../../../resources/faq/framework.html">
                <span class="en">App Framework FAQ</span>
                </a></li>
        <li><a href="../../../../../../../../resources/faq/licensingandoss.html">
                <span class="en">Licensing FAQ</span>
                </a></li>
        <li><a href="../../../../../../../../resources/faq/security.html">
                <span class="en">Security FAQ</span>
                </a></li>
        </ul>
     </li>
    </ul>
  </li>
</ul>

<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>

      </div>
    </div> <!-- end side-nav -->
    <script>
      addLoadEvent(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>



<body class="gc-documentation">


<a name="top"></a>
<div class="g-unit" id="doc-content">
 <div id="jd-header" class="guide-header">
  <span class="crumb">&nbsp;</span>
  <h1>NonsenseGenerator.java</h1>
 </div>

<div id="jd-content">
<p><a href="index.html">&larr; Back</a></p>

<p>The file containing the source code shown below is located in the corresponding directory in <code>&lt;sdk&gt;/samples/android-&lt;version&gt;/...</code></p>

<!-- begin file contents -->
<pre>/*
 * Copyright (C) 2011 The Android Open Source Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.example.android.newsreader;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;

/** Generator of random news. More fun than "lorem ipsum", isn't it?
 *
 * This generator can construct headlines and news articles by randomly composing sentences.
 * Any resemblance to actual events (or, actually, any resemblance to anything that makes sense)
 * is merely coincidental!
 */
public class NonsenseGenerator {
    Random mRandom;

    static final String[] THINGS = { "bottle", "bowl", "brick", "building",
            "bunny", "cake", "car", "cat", "cup", "desk", "dog", "duck",
            "elephant", "engineer", "fork", "glass", "griffon", "hat", "key", "knife", "lawyer",
            "llama", "manual", "meat", "monitor", "mouse", "tangerine", "paper", "pear", "pen",
            "pencil", "phone", "physicist", "planet", "potato", "road", "salad", "shoe", "slipper",
            "soup", "spoon", "star", "steak", "table", "terminal", "treehouse", "truck",
            "watermelon", "window" };

    static final String[] ADJECTIVES = { "red", "green", "yellow", "gray", "solid", "fierce",
            "friendly", "cowardly", "convenient", "foreign", "national", "tall",
            "short", "metallic", "golden", "silver", "sweet", "nationwide", "competitive",
            "stable", "municipal", "famous" };

    static final String[] VERBS_PAST = { "accused", "threatened", "warned", "spoke to",
            "has met with",
            "was seen in the company of", "advanced towards", "collapsed on",
            "signed a partnership with", "was converted into", "became", "was authorized to sell",
            "sold", "bought", "rented", "allegedly spoke to", "leased", "is now investing on",
            "is expected to buy", "is expected to sell", "was reported to have met with",
            "will work together with", "plans to cease fire against", "started a war with",
            "signed a truce with", "is now managing", "is investigating" };

    static final String[] VERBS_PRESENT = { "accuses", "threatens", "warns", "speaks to",
            "meets with",
            "seen with", "advances towards", "collapses on",
            "signs partnership with", "converts into", "becomes", "is authorized to sell",
            "sells", "buys", "rents", "allegedly speaks to", "leases", "invests on",
            "expected to buy", "expected to sell", "reported to have met with",
            "works together with", "plans cease fire against", "starts war with",
            "signs truce with", "now manages" };

    public NonsenseGenerator() {
        mRandom = new Random();
    }

    /** Produces something that reads like a headline. */
    public String makeHeadline() {
        return makeSentence(true);
    }

    /** Produces a sentence.
     *
     * @param isHeadline whether the sentence should look like a headline or not.
     * @return the generated sentence.
     */
    public String makeSentence(boolean isHeadline) {
        List&lt;String&gt; words = new ArrayList&lt;String&gt;();
        generateSentence(words, isHeadline);
        words.set(0, String.valueOf(Character.toUpperCase(words.get(0).charAt(0))) +
                words.get(0).substring(1));
        return joinWords(words);
    }

    /** Produces news article text.
     *
     * @param numSentences how many sentences the text is to contain.
     * @return the generated text.
     */
    public String makeText(int numSentences) {
        StringBuilder sb = new StringBuilder();
        while (numSentences-- &gt; 0) {
            sb.append(makeSentence(false) + ".");
            if (numSentences &gt; 0) {
                sb.append(" ");
            }
        }
        return sb.toString();
    }

    /** Generates a sentence.
     *
     * @param words the list of words to which the sentence will be appended.
     * @param isHeadline whether the sentence must look like a headline or not.
     */
    private void generateSentence(List&lt;String&gt; words, boolean isHeadline) {
        if (!isHeadline &amp;&amp; mRandom.nextInt(4) == 0)
            generateTimeClause(words, isHeadline);
        generateAgent(words, isHeadline);
        generatePredicate(words, isHeadline);
    }

    private void generateTimeClause(List&lt;String&gt; words, boolean isHeadline) {
        if (mRandom.nextInt(2) == 0) {
            words.add(pickOneOf("today", "yesterday", "this afternoon", "this morning",
                    "last evening"));
        }
        else {
            words.add(pickOneOf("this", "last"));
            words.add(pickOneOf("Monday", "Tuesday", "Wednesday", "Thursday"));
            words.add(pickOneOf("morning", "afternoon", "evening"));
        }
    }

    private void generateAgent(List&lt;String&gt; words, boolean isHeadline) {
       if (!isHeadline) {
           words.add(pickOneOf("a", "the"));
       }
       if (mRandom.nextInt(3) != 0) {
           words.add(pickOneOf(ADJECTIVES));
       }
       words.add(pickOneOf(THINGS));
    }

    private void generatePredicate(List&lt;String&gt; words, boolean isHeadline) {
        words.add(pickOneOf(isHeadline ? VERBS_PRESENT : VERBS_PAST));
        if (!isHeadline)
            words.add(pickOneOf("a", "the"));
        if (mRandom.nextInt(3) != 0) {
            words.add(pickOneOf(ADJECTIVES));
        }
        words.add(pickOneOf(THINGS));

        if (mRandom.nextInt(3) == 0) {
            words.add(isHeadline ? pickOneOf(", claims", ", says") :
                 pickOneOf(", claimed", ", said", ", reported"));
            if (!isHeadline)
                words.add(pickOneOf("a", "the"));
            if (mRandom.nextInt(3) != 0) {
                words.add(pickOneOf(ADJECTIVES));
            }
            words.add(pickOneOf(THINGS));
        }
    }

    private String pickOneOf(String ... options) {
        return options[mRandom.nextInt(options.length)];
    }

    private static String joinWords(List&lt;String&gt; words) {
        int i;
        if (words.size() == 0) {
            return "";
        }
        StringBuilder sb = new StringBuilder();
        sb.append(words.get(0));
        for (i = 1; i &lt; words.size(); i++) {
            if (!words.get(i).startsWith(",")) {
                sb.append(" ");
            }
            sb.append(words.get(i));
        }
        return sb.toString();
    }
}</pre>
<!-- end file contents -->

<div id="footer">


  <div id="copyright">
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../../../../../../../../license.html">Content 
  License</a>.
  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.android.com/terms.html">Site Terms of Service</a> -
    <a href="http://www.android.com/privacy.html">Privacy Policy</a> -
    <a href="http://www.android.com/branding.html">Brand Guidelines</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end jd-content -->
</div> <!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>

</body>
</html>
